{"ast":null,"code":"import _regeneratorRuntime from\"/home/sihi/irei-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/sihi/irei-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/sihi/irei-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/sihi/irei-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/sihi/irei-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/sihi/irei-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/sihi/irei-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var fetchAdressStop=\"http://127.0.0.1:5000/stop\";var stopMessage=\"stopLogger\";var fetchAdressStart=\"http://127.0.0.1:5000/start\";var startMessage=\"start\";var fetchAdressCancel=\"http://127.0.0.1:5000/cancel\";var cancelMessage=\"cancel\";var LoggerButton=/*#__PURE__*/function(_React$Component){_inherits(LoggerButton,_React$Component);var _super=_createSuper(LoggerButton);function LoggerButton(props){var _this;_classCallCheck(this,LoggerButton);_this=_super.call(this,props);_this.state={start:true};_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));return _this;}_createClass(LoggerButton,[{key:\"handleClick\",value:function handleClick(){this.setState(function(previousState){return{start:!previousState.start};});}},{key:\"render\",value:function render(){var start=/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:startLogging,children:\"Start\"})});var stop=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:stopLogging,children:\"Stop\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelLogging,children:\"Abort\"})]});return/*#__PURE__*/_jsx(\"div\",{onClick:this.handleClick.bind(this),children:this.state.start?start:stop});}}]);return LoggerButton;}(React.Component);export{LoggerButton as default};;function stopLogging(){function post(){return _post.apply(this,arguments);}function _post(){_post=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(fetchAdressStop,{'method':'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(stopMessage)});case 2:response=_context.sent;if(response.ok){//todo\n}case 4:case\"end\":return _context.stop();}}},_callee);}));return _post.apply(this,arguments);}post();};function startLogging(){function post(){return _post2.apply(this,arguments);}function _post2(){_post2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(fetchAdressStart,{'method':'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(startMessage)});case 2:response=_context2.sent;case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _post2.apply(this,arguments);}post();}function cancelLogging(){function post(){return _post3.apply(this,arguments);}function _post3(){_post3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(fetchAdressCancel,{'method':'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(cancelMessage)});case 2:response=_context3.sent;case 3:case\"end\":return _context3.stop();}}},_callee3);}));return _post3.apply(this,arguments);}post();}","map":{"version":3,"names":["React","fetchAdressStop","stopMessage","fetchAdressStart","startMessage","fetchAdressCancel","cancelMessage","LoggerButton","props","state","start","handleClick","bind","setState","previousState","startLogging","stop","stopLogging","cancelLogging","Component","post","fetch","headers","body","JSON","stringify","response","ok"],"sources":["/home/sihi/irei-frontend/src/controlPage/LoggerButton.tsx"],"sourcesContent":["import React from 'react';\nconst fetchAdressStop = \"http://127.0.0.1:5000/stop\"\nconst stopMessage = \"stopLogger\"\nconst fetchAdressStart = \"http://127.0.0.1:5000/start\"\nconst startMessage = \"start\"\nconst fetchAdressCancel = \"http://127.0.0.1:5000/cancel\"\nconst cancelMessage = \"cancel\"\n\nexport default class LoggerButton extends React.Component {\n  constructor(props) {\n    super(props);\n      this.state = {\n        start: true\n      };\n      this.handleClick = this.handleClick.bind(this);\n  }\n  \n    handleClick() {\n      this.setState(previousState => {\n        return {\n          start: !previousState.start\n        };\n      });\n    }\n  \n    render() {\n\n      const start = (\n        <div>\n            <button onClick={startLogging}>Start</button>\n        </div>\n      )\n  \n      const stop = (\n        <div>\n          <button onClick={stopLogging}>Stop</button>\n          <button onClick={cancelLogging}>Abort</button>\n        </div>\n      )\n  \n      return (\n        <div onClick={this.handleClick.bind(this)}>\n          {this.state.start ? start : stop}\n        </div>\n      )\n    }\n  };\n\nfunction stopLogging() {\n  async function post (){\n       const response = await fetch(fetchAdressStop, {\n           'method': 'POST',\n           headers : {\n           'Content-Type': 'application/json'\n           },\n           body : JSON.stringify(stopMessage)\n       })\n       if(response.ok) {\n           //todo\n       }\n      \n  }\n  post()\n};\n\nfunction startLogging() {\n  async function post (){\n     const response = await fetch(fetchAdressStart, {\n         'method': 'POST',\n         headers : {\n         'Content-Type': 'application/json'\n         },\n         body : JSON.stringify(startMessage)\n     })\n    \n }\n post()\n}\n\nfunction cancelLogging() {\n  async function post (){\n     const response = await fetch(fetchAdressCancel, {\n         'method': 'POST',\n         headers : {\n         'Content-Type': 'application/json'\n         },\n         body : JSON.stringify(cancelMessage)\n     })\n    \n }\n post()\n}"],"mappings":"kxBAAA,MAAOA,MAAK,KAAM,OAAO,CAAC,wFAC1B,GAAMC,gBAAe,CAAG,4BAA4B,CACpD,GAAMC,YAAW,CAAG,YAAY,CAChC,GAAMC,iBAAgB,CAAG,6BAA6B,CACtD,GAAMC,aAAY,CAAG,OAAO,CAC5B,GAAMC,kBAAiB,CAAG,8BAA8B,CACxD,GAAMC,cAAa,CAAG,QAAQ,IAETC,aAAY,wHAC/B,sBAAYC,KAAK,CAAE,8CACjB,uBAAMA,KAAK,EACT,MAAKC,KAAK,CAAG,CACXC,KAAK,CAAE,IACT,CAAC,CACD,MAAKC,WAAW,CAAG,MAAKA,WAAW,CAACC,IAAI,+BAAM,CAAC,aACnD,CAAC,oDAEC,sBAAc,CACZ,IAAI,CAACC,QAAQ,CAAC,SAAAC,aAAa,CAAI,CAC7B,MAAO,CACLJ,KAAK,CAAE,CAACI,aAAa,CAACJ,KACxB,CAAC,CACH,CAAC,CAAC,CACJ,CAAC,sBAED,iBAAS,CAEP,GAAMA,MAAK,cACT,kCACI,eAAQ,OAAO,CAAEK,YAAa,mBAAe,EAElD,CAED,GAAMC,KAAI,cACR,oCACE,eAAQ,OAAO,CAAEC,WAAY,kBAAc,cAC3C,eAAQ,OAAO,CAAEC,aAAc,mBAAe,GAEjD,CAED,mBACE,YAAK,OAAO,CAAE,IAAI,CAACP,WAAW,CAACC,IAAI,CAAC,IAAI,CAAE,UACvC,IAAI,CAACH,KAAK,CAACC,KAAK,CAAGA,KAAK,CAAGM,IAAI,EAC5B,CAEV,CAAC,0BArCqChB,KAAK,CAACmB,SAAS,SAApCZ,YAAY,aAsC9B,CAEH,QAASU,YAAW,EAAG,SACNG,KAAI,wHAAnB,wKAC4BC,MAAK,CAACpB,eAAe,CAAE,CAC1C,QAAQ,CAAE,MAAM,CAChBqB,OAAO,CAAG,CACV,cAAc,CAAE,kBAChB,CAAC,CACDC,IAAI,CAAGC,IAAI,CAACC,SAAS,CAACvB,WAAW,CACrC,CAAC,CAAC,QANIwB,QAAQ,eAOd,GAAGA,QAAQ,CAACC,EAAE,CAAE,CACZ;AAAA,CACH,sDAEL,uCACDP,IAAI,EAAE,CACR,CAAC,CAED,QAASL,aAAY,EAAG,SACPK,KAAI,2HAAnB,8KAC0BC,MAAK,CAAClB,gBAAgB,CAAE,CAC3C,QAAQ,CAAE,MAAM,CAChBmB,OAAO,CAAG,CACV,cAAc,CAAE,kBAChB,CAAC,CACDC,IAAI,CAAGC,IAAI,CAACC,SAAS,CAACrB,YAAY,CACtC,CAAC,CAAC,QANIsB,QAAQ,wEAQjB,wCACDN,IAAI,EAAE,CACP,CAEA,QAASF,cAAa,EAAG,SACRE,KAAI,2HAAnB,8KAC0BC,MAAK,CAAChB,iBAAiB,CAAE,CAC5C,QAAQ,CAAE,MAAM,CAChBiB,OAAO,CAAG,CACV,cAAc,CAAE,kBAChB,CAAC,CACDC,IAAI,CAAGC,IAAI,CAACC,SAAS,CAACnB,aAAa,CACvC,CAAC,CAAC,QANIoB,QAAQ,wEAQjB,wCACDN,IAAI,EAAE,CACP"},"metadata":{},"sourceType":"module","externalDependencies":[]}