{"ast":null,"code":"var _jsxFileName = \"/home/sihi/irei-frontend/src/choosePages/chooseLaboratoryPage/ChooseLaboratoryPage.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getLabs, informLabChoise } from '../../backendComunication/FetchAndSetLab';\nimport { ErrorPopUp } from '../../PopUp/ErrorPopUP';\nimport TopBar from '../../TopBar';\nimport ChooseLaboratoryButton from './ChooseLaboratoryButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst fetchAdress = \"http://127.0.0.1:5000/api/getLab\";\n\n/**\n * The ChooseLaboratoryPage is used to choose \n * the Laboratory the user wants to work in\n */\nexport default function ChooseLaboratoryPage() {\n  _s();\n  const navigate = useNavigate();\n  const [errorMessage, setErrorMessage] = useState(\"sorry something went wrong\");\n  const [error, setError] = useState(false);\n  const [labs, setLabs] = useState(new Map()); // key = labname, value = robot list\n  var [fetched, setfetched] = useState(false);\n  getLabs(setLabs, fetched, setfetched);\n  const errorState = () => {\n    setError(current => !current);\n  };\n  const arrLabs = Array.from(labs, function (entry) {\n    return {\n      key: entry[0],\n      value: entry[1]\n    };\n  });\n  const action = name => {\n    informLabChoise(errorState, name, setErrorMessage).then(res => {\n      if (res) {}\n    });\n  };\n  const robots = key => {\n    return Array.from(labs.get(key), function (entry) {\n      return {\n        key: entry[0],\n        value: entry[1]\n      };\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(TopBar, {\n      title: \"Choose Laboratory\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), arrLabs.map(number => {\n      return /*#__PURE__*/_jsxDEV(ChooseLaboratoryButton, {\n        name: number.key,\n        action: action,\n        buttons: robots\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 20\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(ErrorPopUp, {\n      active: error,\n      deactivate: errorState,\n      message: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 7\n  }, this);\n}\n\n/**\n * //shema für labornamen \n    for (let key of labs.keys()) {\n      console.log(key) //laborname\n    }\n\n    // shema um roboter namen zu kriegen\n    for (let key of labs.keys()) {\n      if(typeof labs.get(key) != \"undefined\") {\n        for (let koy of labs.get(key).keys()) { // is catched one line above\n          console.log(koy); // roboternamen\n      }          \n      }\n\n    }\n */\n_s(ChooseLaboratoryPage, \"/H6kCYwS7ueNzKQkgfdVzm1IbX0=\", false, function () {\n  return [useNavigate];\n});\n_c = ChooseLaboratoryPage;\nvar _c;\n$RefreshReg$(_c, \"ChooseLaboratoryPage\");","map":{"version":3,"names":["React","useState","useNavigate","getLabs","informLabChoise","ErrorPopUp","TopBar","ChooseLaboratoryButton","fetchAdress","ChooseLaboratoryPage","navigate","errorMessage","setErrorMessage","error","setError","labs","setLabs","Map","fetched","setfetched","errorState","current","arrLabs","Array","from","entry","key","value","action","name","then","res","robots","get","map","number"],"sources":["/home/sihi/irei-frontend/src/choosePages/chooseLaboratoryPage/ChooseLaboratoryPage.tsx"],"sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getLabs, informLabChoise } from '../../backendComunication/FetchAndSetLab';\nimport { ErrorPopUp } from '../../PopUp/ErrorPopUP';\nimport TopBar from '../../TopBar';\nimport ChooseLaboratoryButton from './ChooseLaboratoryButton';\nconst fetchAdress = \"http://127.0.0.1:5000/api/getLab\";\n\n/**\n * The ChooseLaboratoryPage is used to choose \n * the Laboratory the user wants to work in\n */\nexport default function ChooseLaboratoryPage() {\n  const navigate = useNavigate();\n  const [errorMessage, setErrorMessage] = useState(\"sorry something went wrong\")\n  const [error, setError] = useState(false)\n    const [labs, setLabs] = useState(new Map<string, Map<string, string>>()); // key = labname, value = robot list\n    var [fetched, setfetched] = useState(false)\n    getLabs(setLabs, fetched, setfetched)\n\n    const errorState = () => {\n      setError(current => !current)\n     }\n\n\n    const arrLabs = Array.from(labs, function (entry) {\n      return { key: entry[0], value: entry[1]};\n    });\n\n\n    const action = (name) => {  \n      informLabChoise(errorState,name, setErrorMessage).then(res => {\n      if(res) {\n          \n      }\n  }\n  )\n    }\n\n    const robots = (key) => {\n     return Array.from(labs.get(key), function (entry) {\n      return { key: entry[0], value: entry[1]}})\n    }\n\n\n       return ( \n      <div>\n        <TopBar title=\"Choose Laboratory\"></TopBar>\n        {\n          arrLabs.map((number) => {\n            return <ChooseLaboratoryButton name={number.key} action={action}\n            buttons = {robots} />\n          })\n        }\n         <ErrorPopUp active={error} deactivate={errorState} message={errorMessage}/>\n      </div>\n    );\n}\n\n/**\n * //shema für labornamen \n    for (let key of labs.keys()) {\n      console.log(key) //laborname\n    }\n\n    // shema um roboter namen zu kriegen\n    for (let key of labs.keys()) {\n      if(typeof labs.get(key) != \"undefined\") {\n        for (let koy of labs.get(key).keys()) { // is catched one line above\n          console.log(koy); // roboternamen\n      }          \n      }\n\n    }\n */\n\n\n   "],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,EAAEC,eAAe,QAAQ,0CAA0C;AACnF,SAASC,UAAU,QAAQ,wBAAwB;AACnD,OAAOC,MAAM,MAAM,cAAc;AACjC,OAAOC,sBAAsB,MAAM,0BAA0B;AAAC;AAC9D,MAAMC,WAAW,GAAG,kCAAkC;;AAEtD;AACA;AACA;AACA;AACA,eAAe,SAASC,oBAAoB,GAAG;EAAA;EAC7C,MAAMC,QAAQ,GAAGR,WAAW,EAAE;EAC9B,MAAM,CAACS,YAAY,EAAEC,eAAe,CAAC,GAAGX,QAAQ,CAAC,4BAA4B,CAAC;EAC9E,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAM,CAACc,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC,IAAIgB,GAAG,EAA+B,CAAC,CAAC,CAAC;EAC1E,IAAI,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAC3CE,OAAO,CAACa,OAAO,EAAEE,OAAO,EAAEC,UAAU,CAAC;EAErC,MAAMC,UAAU,GAAG,MAAM;IACvBN,QAAQ,CAACO,OAAO,IAAI,CAACA,OAAO,CAAC;EAC9B,CAAC;EAGF,MAAMC,OAAO,GAAGC,KAAK,CAACC,IAAI,CAACT,IAAI,EAAE,UAAUU,KAAK,EAAE;IAChD,OAAO;MAAEC,GAAG,EAAED,KAAK,CAAC,CAAC,CAAC;MAAEE,KAAK,EAAEF,KAAK,CAAC,CAAC;IAAC,CAAC;EAC1C,CAAC,CAAC;EAGF,MAAMG,MAAM,GAAIC,IAAI,IAAK;IACvBzB,eAAe,CAACgB,UAAU,EAACS,IAAI,EAAEjB,eAAe,CAAC,CAACkB,IAAI,CAACC,GAAG,IAAI;MAC9D,IAAGA,GAAG,EAAE,CAER;IACJ,CAAC,CACA;EACC,CAAC;EAED,MAAMC,MAAM,GAAIN,GAAG,IAAK;IACvB,OAAOH,KAAK,CAACC,IAAI,CAACT,IAAI,CAACkB,GAAG,CAACP,GAAG,CAAC,EAAE,UAAUD,KAAK,EAAE;MACjD,OAAO;QAAEC,GAAG,EAAED,KAAK,CAAC,CAAC,CAAC;QAAEE,KAAK,EAAEF,KAAK,CAAC,CAAC;MAAC,CAAC;IAAA,CAAC,CAAC;EAC5C,CAAC;EAGE,oBACD;IAAA,wBACE,QAAC,MAAM;MAAC,KAAK,EAAC;IAAmB;MAAA;MAAA;MAAA;IAAA,QAAU,EAEzCH,OAAO,CAACY,GAAG,CAAEC,MAAM,IAAK;MACtB,oBAAO,QAAC,sBAAsB;QAAC,IAAI,EAAEA,MAAM,CAACT,GAAI;QAAC,MAAM,EAAEE,MAAO;QAChE,OAAO,EAAII;MAAO;QAAA;QAAA;QAAA;MAAA,QAAG;IACvB,CAAC,CAAC,eAEH,QAAC,UAAU;MAAC,MAAM,EAAEnB,KAAM;MAAC,UAAU,EAAEO,UAAW;MAAC,OAAO,EAAET;IAAa;MAAA;MAAA;MAAA;IAAA,QAAE;EAAA;IAAA;IAAA;IAAA;EAAA,QACxE;AAEZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA,GA/CwBF,oBAAoB;EAAA,QACzBP,WAAW;AAAA;AAAA,KADNO,oBAAoB;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}